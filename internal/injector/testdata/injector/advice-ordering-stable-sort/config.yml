%YAML 1.1
---
# Test stable sorting behavior
# Multiple advice with same namespace and order should maintain definition order
aspects:
  - id: Stable Sort Test
    join-point:
      function-body:
        function:
          - name: TestFunction
    advice:
      # All have same namespace and order - should maintain definition order
      - prepend-statements:
          namespace: "test"
          order: 10
          template: |-
            _ = "4) First defined (index 0) - applied 1"
      - prepend-statements:
          namespace: "test"
          order: 10
          template: |-
            _ = "3) Second defined (index 1) - applied 2"
      - prepend-statements:
          namespace: "test"
          order: 10
          template: |-
            _ = "2) Third defined (index 2) - applied 3"
      - prepend-statements:
          namespace: "test"
          order: 10
          template: |-
            _ = "1) Fourth defined (index 3) - applied 4"

# Expected execution order (should maintain definition order):
# 1. First defined (index 0)
# 2. Second defined (index 1)
# 3. Third defined (index 2)
# 4. Fourth defined (index 3)

code: |-
  package test

  func TestFunction() {
    // Original function body
  }
